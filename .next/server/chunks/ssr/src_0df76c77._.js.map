{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/CODING/Webd/MiniProject/Smart-Traffic-management/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,qIAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///D:/CODING/Webd/MiniProject/Smart-Traffic-management/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          \"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90\",\r\n        destructive:\r\n          \"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\r\n        outline:\r\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\r\n        secondary:\r\n          \"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80\",\r\n        ghost:\r\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n      },\r\n      size: {\r\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\r\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\r\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\r\n        icon: \"size-9\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nfunction Button({\r\n  className,\r\n  variant,\r\n  size,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<\"button\"> &\r\n  VariantProps<typeof buttonVariants> & {\r\n    asChild?: boolean\r\n  }) {\r\n  const Comp = asChild ? Slot : \"button\"\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"button\"\r\n      className={cn(buttonVariants({ variant, size, className }))}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Button, buttonVariants }\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACvB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,gKAAA,CAAA,OAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 80, "column": 0}, "map": {"version":3,"sources":["file:///D:/CODING/Webd/MiniProject/Smart-Traffic-management/src/components/ui/traffic-map.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\n\r\ninterface SumoVehicle {\r\n  id: string;\r\n  type: string;\r\n  speed: number;\r\n  position: { x: number; y: number };\r\n  lane: string;\r\n  route: string[];\r\n}\r\n\r\ninterface TrafficMapProps {\r\n  trafficLights: {\r\n    north: string;\r\n    south: string;\r\n    east: string;\r\n    west: string;\r\n  };\r\n  onTrafficLightChange: (direction: string) => void;\r\n  aiMode: boolean;\r\n  vehicles?: SumoVehicle[];\r\n}\r\n\r\nexport const TrafficMap: React.FC<TrafficMapProps> = ({ trafficLights, onTrafficLightChange, aiMode, vehicles = [] }) => {\r\n  const getTrafficLightColor = (state: string) => {\r\n    switch (state) {\r\n      case \"red\": return \"bg-red-500\";\r\n      case \"yellow\": return \"bg-yellow-500\";\r\n      case \"green\": return \"bg-green-500\";\r\n      default: return \"bg-gray-300\";\r\n    }\r\n  };\r\n\r\n  const getVehicleColor = (type: string) => {\r\n    switch (type) {\r\n      case \"car\": return \"bg-blue-500\";\r\n      case \"truck\": return \"bg-orange-500\";\r\n      default: return \"bg-gray-500\";\r\n    }\r\n  };\r\n\r\n  const getVehiclePosition = (vehicle: SumoVehicle) => {\r\n    // Convert SUMO coordinates to map coordinates\r\n    const mapWidth = 256; // w-64 = 256px\r\n    const mapHeight = 256;\r\n\r\n    // Scale coordinates to fit the map\r\n    const x = (vehicle.position.x / 800) * mapWidth;\r\n    const y = (vehicle.position.y / 600) * mapHeight;\r\n\r\n    return { x, y };\r\n  };\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"dashboard-card\">\r\n      <h3 className=\"text-xl font-semibold mb-4\">Interactive Traffic Map</h3>\r\n      <div className=\"map-wrapper\">\r\n        <div className=\"map-area relative w-full h-80 mx-auto overflow-hidden\">\r\n          {/* Horizontal Road */}\r\n          <div className=\"absolute top-1/2 left-0 right-0 h-8 bg-gray-400 dark:bg-gray-600 transform -translate-y-1/2\">\r\n            <div className=\"absolute inset-0 flex items-center justify-center\">\r\n              <div className=\"w-full h-1 bg-yellow-400\"></div>\r\n            </div>\r\n          </div>\r\n          {/* Vertical Road */}\r\n          <div className=\"absolute left-1/2 top-0 bottom-0 w-8 bg-gray-400 dark:bg-gray-600 transform -translate-x-1/2\">\r\n            <div className=\"absolute inset-0 flex items-center justify-center\">\r\n              <div className=\"h-full w-1 bg-yellow-400\"></div>\r\n            </div>\r\n          </div>\r\n          {/* Intersection */}\r\n          <div className=\"absolute top-1/2 left-1/2 w-8 h-8 bg-gray-300 dark:bg-gray-500 transform -translate-x-1/2 -translate-y-1/2 rounded-sm\"></div>\r\n\r\n          {/* Traffic Lights */}\r\n          {/* North */}\r\n          <div className=\"absolute top-2 left-1/2 transform -translate-x-1/2\">\r\n          <Button\r\n              variant=\"outline\"\r\n              className={`w-12 h-12 rounded-full p-0 border-2 ${aiMode ? 'cursor-not-allowed opacity-50' : 'cursor-pointer'}`}\r\n              onClick={() => !aiMode && onTrafficLightChange(\"north\")}\r\n              disabled={aiMode}\r\n            >\r\n              <div className={`w-8 h-8 rounded-full ${getTrafficLightColor(trafficLights.north)}`}></div>\r\n            </Button>\r\n            <p className=\"text-xs text-center mt-1 font-medium\">North</p>\r\n          </div>\r\n\r\n          {/* South */}\r\n          <div className=\"absolute bottom-2 left-1/2 transform -translate-x-1/2\">\r\n          <Button\r\n              variant=\"outline\"\r\n              className={`w-12 h-12 rounded-full p-0 border-2 ${aiMode ? 'cursor-not-allowed opacity-50' : 'cursor-pointer'}`}\r\n              onClick={() => !aiMode && onTrafficLightChange(\"south\")}\r\n              disabled={aiMode}\r\n            >\r\n              <div className={`w-8 h-8 rounded-full ${getTrafficLightColor(trafficLights.south)}`}></div>\r\n            </Button>\r\n            <p className=\"text-xs text-center mt-1 font-medium\">South</p>\r\n          </div>\r\n\r\n          {/* East */}\r\n          <div className=\"absolute right-2 top-1/2 transform -translate-y-1/2\">\r\n          <Button\r\n              variant=\"outline\"\r\n              className={`w-12 h-12 rounded-full p-0 border-2 ${aiMode ? 'cursor-not-allowed opacity-50' : 'cursor-pointer'}`}\r\n              onClick={() => !aiMode && onTrafficLightChange(\"east\")}\r\n              disabled={aiMode}\r\n            >\r\n              <div className={`w-8 h-8 rounded-full ${getTrafficLightColor(trafficLights.east)}`}></div>\r\n            </Button>\r\n            <p className=\"text-xs text-center mt-1 font-medium\">East</p>\r\n          </div>\r\n\r\n          {/* West */}\r\n          <div className=\"absolute left-2 top-1/2 transform -translate-y-1/2\">\r\n          <Button\r\n              variant=\"outline\"\r\n              className={`w-12 h-12 rounded-full p-0 border-2 ${aiMode ? 'cursor-not-allowed opacity-50' : 'cursor-pointer'}`}\r\n              onClick={() => !aiMode && onTrafficLightChange(\"west\")}\r\n              disabled={aiMode}\r\n            >\r\n              <div className={`w-8 h-8 rounded-full ${getTrafficLightColor(trafficLights.west)}`}></div>\r\n            </Button>\r\n            <p className=\"text-xs text-center mt-1 font-medium\">West</p>\r\n          </div>\r\n\r\n          {/* Vehicles */}\r\n          {vehicles.map((vehicle) => {\r\n            const position = getVehiclePosition(vehicle);\r\n            return (\r\n              <div\r\n                key={vehicle.id}\r\n                className={`absolute w-3 h-3 rounded-full ${getVehicleColor(vehicle.type)} border border-white shadow-sm transition-all duration-300`}\r\n                style={{\r\n                  left: `${position.x}px`,\r\n                  top: `${position.y}px`,\r\n                  transform: 'translate(-50%, -50%)',\r\n                }}\r\n                title={`${vehicle.type} - ${vehicle.speed.toFixed(1)} km/h`}\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n      {aiMode && (\r\n        <div className=\"mt-4 text-center\">\r\n          <p className=\"text-sm text-blue-600 font-medium\">ü§ñ AI Mode Active - Traffic lights managed automatically</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 378, "column": 0}, "map": {"version":3,"sources":["file:///D:/CODING/Webd/MiniProject/Smart-Traffic-management/src/components/footer.tsx"],"sourcesContent":["import React from \"react\";\r\n\r\nexport const Footer: React.FC = () => {\r\n  return (\r\n    <footer className=\"mt-12\">\r\n      <div className=\"section-panel\">\r\n        <div className=\"container mx-auto px-6 py-6\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\r\n            <div className=\"space-y-4\">\r\n              <h3 className=\"text-lg font-semibold\">Smart Traffic Management</h3>\r\n              <p className=\"text-sm text-gray-600\">\r\n                Revolutionizing urban mobility with AI-powered traffic control and real-time analytics.\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"space-y-4\">\r\n              <h4 className=\"text-md font-medium\">Technologies</h4>\r\n              <ul className=\"space-y-2 text-sm text-gray-600\">\r\n                <li>YOLO Object Detection</li>\r\n                <li>SUMO Simulation</li>\r\n                <li>Real-time Analytics</li>\r\n                <li>AI Optimization</li>\r\n              </ul>\r\n            </div>\r\n\r\n            <div className=\"space-y-4\">\r\n              <h4 className=\"text-md font-medium\">Contact</h4>\r\n              <div className=\"space-y-2 text-sm text-gray-600\">\r\n                <p>üìß support@smarttraffic.com</p>\r\n                <p>üìû +1 (555) 123-4567</p>\r\n                <p>üè¢ 123 Innovation Drive, Tech City</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"mt-8 pt-6 text-center\">\r\n            <p className=\"text-sm text-gray-500\">\r\n              ¬© 2024 Smart Traffic Management System. All rights reserved. | Built with Next.js & Tailwind CSS\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAEO,MAAM,SAAmB;IAC9B,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;kDAAwB;;;;;;kDACtC,8OAAC;wCAAE,WAAU;kDAAwB;;;;;;;;;;;;0CAKvC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;kDAAsB;;;;;;kDACpC,8OAAC;wCAAG,WAAU;;0DACZ,8OAAC;0DAAG;;;;;;0DACJ,8OAAC;0DAAG;;;;;;0DACJ,8OAAC;0DAAG;;;;;;0DACJ,8OAAC;0DAAG;;;;;;;;;;;;;;;;;;0CAIR,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;kDAAsB;;;;;;kDACpC,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;0DAAE;;;;;;0DACH,8OAAC;0DAAE;;;;;;0DACH,8OAAC;0DAAE;;;;;;;;;;;;;;;;;;;;;;;;kCAKT,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAE,WAAU;sCAAwB;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQjD","debugId":null}},
    {"offset": {"line": 564, "column": 0}, "map": {"version":3,"sources":["file:///D:/CODING/Webd/MiniProject/Smart-Traffic-management/src/hooks/use-yolo.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect, useCallback } from 'react';\r\n\r\ninterface DetectedObject {\r\n  type: string;\r\n  count: number;\r\n  confidence: number;\r\n  bbox?: {\r\n    x: number;\r\n    y: number;\r\n    width: number;\r\n    height: number;\r\n  };\r\n}\r\n\r\ninterface YoloConfig {\r\n  modelPath?: string;\r\n  confidenceThreshold?: number;\r\n  iouThreshold?: number;\r\n}\r\n\r\nexport function useYolo(config: YoloConfig = {}) {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [detectedObjects, setDetectedObjects] = useState<DetectedObject[]>([]);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [isModelLoaded, setIsModelLoaded] = useState(false);\r\n\r\n  const {\r\n    modelPath = '/models/yolo.onnx',\r\n    confidenceThreshold = 0.5,\r\n    iouThreshold = 0.4\r\n  } = config;\r\n\r\n  // Initialize YOLO model\r\n  const initializeModel = useCallback(async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      setError(null);\r\n      \r\n      // Simulate model loading (replace with actual YOLO model loading)\r\n      await new Promise(resolve => setTimeout(resolve, 2000));\r\n      \r\n      setIsModelLoaded(true);\r\n      console.log('YOLO model loaded successfully');\r\n    } catch (err) {\r\n      setError('Failed to load YOLO model');\r\n      console.error('YOLO initialization error:', err);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, [modelPath]);\r\n\r\n  // Detect objects in image/video frame\r\n  const detectObjects = useCallback(async (imageData: string | ImageData) => {\r\n    if (!isModelLoaded) {\r\n      setError('Model not loaded');\r\n      return [];\r\n    }\r\n\r\n    try {\r\n      setIsLoading(true);\r\n      setError(null);\r\n\r\n      // Simulate YOLO detection (replace with actual YOLO inference)\r\n      await new Promise(resolve => setTimeout(resolve, 500));\r\n      \r\n      // Mock detection results for demonstration\r\n      const mockDetections: DetectedObject[] = [\r\n        {\r\n          type: 'car',\r\n          count: Math.floor(Math.random() * 15) + 5,\r\n          confidence: 0.85 + Math.random() * 0.1,\r\n          bbox: { x: 100, y: 150, width: 80, height: 60 }\r\n        },\r\n        {\r\n          type: 'truck',\r\n          count: Math.floor(Math.random() * 5) + 1,\r\n          confidence: 0.75 + Math.random() * 0.15,\r\n          bbox: { x: 200, y: 100, width: 120, height: 80 }\r\n        },\r\n        {\r\n          type: 'pedestrian',\r\n          count: Math.floor(Math.random() * 10) + 2,\r\n          confidence: 0.80 + Math.random() * 0.15,\r\n          bbox: { x: 50, y: 200, width: 30, height: 60 }\r\n        },\r\n        {\r\n          type: 'bicycle',\r\n          count: Math.floor(Math.random() * 3),\r\n          confidence: 0.70 + Math.random() * 0.2,\r\n          bbox: { x: 300, y: 180, width: 40, height: 50 }\r\n        }\r\n      ].filter(obj => obj.count > 0);\r\n\r\n      setDetectedObjects(mockDetections);\r\n      return mockDetections;\r\n    } catch (err) {\r\n      setError('Detection failed');\r\n      console.error('YOLO detection error:', err);\r\n      return [];\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, [isModelLoaded, confidenceThreshold, iouThreshold]);\r\n\r\n  // Start continuous detection from video stream\r\n  const startContinuousDetection = useCallback(async (videoElement?: HTMLVideoElement) => {\r\n    if (!isModelLoaded) {\r\n      await initializeModel();\r\n    }\r\n\r\n    // Simulate continuous detection\r\n    const interval = setInterval(async () => {\r\n      if (videoElement) {\r\n        // In real implementation, capture frame from video element\r\n        await detectObjects('video_frame');\r\n      }\r\n    }, 1000); // Detect every second\r\n\r\n    return () => clearInterval(interval);\r\n  }, [isModelLoaded, initializeModel, detectObjects]);\r\n\r\n  // Calculate traffic density based on detected objects\r\n  const calculateTrafficDensity = useCallback(() => {\r\n    const totalVehicles = detectedObjects\r\n      .filter(obj => ['car', 'truck', 'bus', 'motorcycle'].includes(obj.type))\r\n      .reduce((sum, obj) => sum + obj.count, 0);\r\n    \r\n    if (totalVehicles === 0) return 'low';\r\n    if (totalVehicles < 10) return 'medium';\r\n    return 'high';\r\n  }, [detectedObjects]);\r\n\r\n  // Get traffic recommendations based on detection\r\n  const getTrafficRecommendations = useCallback(() => {\r\n    const density = calculateTrafficDensity();\r\n    const pedestrians = detectedObjects.find(obj => obj.type === 'pedestrian')?.count || 0;\r\n    \r\n    const recommendations = [];\r\n    \r\n    if (density === 'high') {\r\n      recommendations.push('Consider extending green light duration');\r\n      recommendations.push('Monitor for potential congestion');\r\n    }\r\n    \r\n    if (pedestrians > 5) {\r\n      recommendations.push('Activate pedestrian crossing signals');\r\n      recommendations.push('Reduce vehicle green light time');\r\n    }\r\n    \r\n    if (detectedObjects.find(obj => obj.type === 'emergency_vehicle')) {\r\n      recommendations.push('PRIORITY: Clear path for emergency vehicle');\r\n    }\r\n    \r\n    return recommendations;\r\n  }, [detectedObjects, calculateTrafficDensity]);\r\n\r\n  useEffect(() => {\r\n    // Auto-initialize model on hook mount\r\n    initializeModel();\r\n  }, [initializeModel]);\r\n\r\n  return {\r\n    // State\r\n    isLoading,\r\n    detectedObjects,\r\n    error,\r\n    isModelLoaded,\r\n    \r\n    // Actions\r\n    initializeModel,\r\n    detectObjects,\r\n    startContinuousDetection,\r\n    \r\n    // Computed values\r\n    trafficDensity: calculateTrafficDensity(),\r\n    recommendations: getTrafficRecommendations(),\r\n    \r\n    // Utilities\r\n    clearDetections: () => setDetectedObjects([]),\r\n    clearError: () => setError(null)\r\n  };\r\n}\r\n\r\nexport type { DetectedObject, YoloConfig };\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 749, "column": 0}, "map": {"version":3,"sources":["file:///D:/CODING/Webd/MiniProject/Smart-Traffic-management/src/hooks/use-sumo.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect, useCallback } from 'react';\r\n\r\ninterface SumoVehicle {\r\n  id: string;\r\n  type: string;\r\n  speed: number;\r\n  position: { x: number; y: number };\r\n  lane: string;\r\n  route: string[];\r\n}\r\n\r\ninterface SumoTrafficLight {\r\n  id: string;\r\n  state: string; // 'r' = red, 'g' = green, 'y' = yellow\r\n  phase: number;\r\n  duration: number;\r\n}\r\n\r\ninterface SumoMetrics {\r\n  totalVehicles: number;\r\n  averageSpeed: number;\r\n  averageWaitTime: number;\r\n  throughput: number;\r\n  queueLength: number;\r\n  co2Emissions: number;\r\n}\r\n\r\ninterface SumoConfig {\r\n  configFile?: string;\r\n  stepLength?: number;\r\n  port?: number;\r\n  host?: string;\r\n}\r\n\r\nexport function useSumo(config: SumoConfig = {}) {\r\n  const [isConnected, setIsConnected] = useState(false);\r\n  const [isRunning, setIsRunning] = useState(false);\r\n  const [currentStep, setCurrentStep] = useState(0);\r\n  const [vehicles, setVehicles] = useState<SumoVehicle[]>([]);\r\n  const [trafficLights, setTrafficLights] = useState<SumoTrafficLight[]>([]);\r\n  const [metrics, setMetrics] = useState<SumoMetrics>({\r\n    totalVehicles: 0,\r\n    averageSpeed: 0,\r\n    averageWaitTime: 0,\r\n    throughput: 0,\r\n    queueLength: 0,\r\n    co2Emissions: 0\r\n  });\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const {\r\n    configFile = 'traffic.sumocfg',\r\n    stepLength = 1.0,\r\n    port = 8813,\r\n    host = 'localhost'\r\n  } = config;\r\n\r\n  // Connect to SUMO via TraCI\r\n  const connect = useCallback(async () => {\r\n    try {\r\n      setError(null);\r\n      \r\n      // Simulate connection to SUMO (replace with actual TraCI connection)\r\n      console.log(`Connecting to SUMO at ${host}:${port}`);\r\n      await new Promise(resolve => setTimeout(resolve, 1000));\r\n      \r\n      setIsConnected(true);\r\n      \r\n      // Initialize traffic lights\r\n      const initialTrafficLights: SumoTrafficLight[] = [\r\n        { id: 'tl_north', state: 'r', phase: 0, duration: 30 },\r\n        { id: 'tl_south', state: 'r', phase: 0, duration: 30 },\r\n        { id: 'tl_east', state: 'g', phase: 1, duration: 45 },\r\n        { id: 'tl_west', state: 'g', phase: 1, duration: 45 }\r\n      ];\r\n      \r\n      setTrafficLights(initialTrafficLights);\r\n      console.log('Connected to SUMO successfully');\r\n    } catch (err) {\r\n      setError('Failed to connect to SUMO');\r\n      console.error('SUMO connection error:', err);\r\n    }\r\n  }, [host, port]);\r\n\r\n  // Disconnect from SUMO\r\n  const disconnect = useCallback(async () => {\r\n    try {\r\n      setIsRunning(false);\r\n      await new Promise(resolve => setTimeout(resolve, 500));\r\n      setIsConnected(false);\r\n      setCurrentStep(0);\r\n      setVehicles([]);\r\n      console.log('Disconnected from SUMO');\r\n    } catch (err) {\r\n      setError('Failed to disconnect from SUMO');\r\n      console.error('SUMO disconnection error:', err);\r\n    }\r\n  }, []);\r\n\r\n  // Start simulation\r\n  const startSimulation = useCallback(async () => {\r\n    if (!isConnected) {\r\n      await connect();\r\n    }\r\n    \r\n    try {\r\n      setError(null);\r\n      setIsRunning(true);\r\n      console.log('Starting SUMO simulation');\r\n    } catch (err) {\r\n      setError('Failed to start simulation');\r\n      console.error('SUMO start error:', err);\r\n    }\r\n  }, [isConnected, connect]);\r\n\r\n  // Stop simulation\r\n  const stopSimulation = useCallback(() => {\r\n    setIsRunning(false);\r\n    console.log('Stopping SUMO simulation');\r\n  }, []);\r\n\r\n  // Execute one simulation step\r\n  const simulationStep = useCallback(async () => {\r\n    if (!isConnected || !isRunning) return;\r\n\r\n    try {\r\n      // Simulate one step (replace with actual TraCI commands)\r\n      setCurrentStep(prev => prev + 1);\r\n      \r\n      // Generate mock vehicle data\r\n      const mockVehicles: SumoVehicle[] = Array.from({ length: Math.floor(Math.random() * 20) + 5 }, (_, i) => ({\r\n        id: `vehicle_${i}`,\r\n        type: Math.random() > 0.8 ? 'truck' : 'car',\r\n        speed: Math.random() * 50 + 10,\r\n        position: {\r\n          x: Math.random() * 800,\r\n          y: Math.random() * 600\r\n        },\r\n        lane: `lane_${Math.floor(Math.random() * 4)}`,\r\n        route: [`edge_${Math.floor(Math.random() * 4)}`, `edge_${Math.floor(Math.random() * 4)}`]\r\n      }));\r\n      \r\n      setVehicles(mockVehicles);\r\n      \r\n      // Update metrics\r\n      const newMetrics: SumoMetrics = {\r\n        totalVehicles: mockVehicles.length,\r\n        averageSpeed: mockVehicles.reduce((sum, v) => sum + v.speed, 0) / mockVehicles.length || 0,\r\n        averageWaitTime: Math.random() * 5 + 1,\r\n        throughput: Math.random() * 100 + 50,\r\n        queueLength: Math.floor(Math.random() * 15),\r\n        co2Emissions: mockVehicles.length * 0.12 + Math.random() * 2\r\n      };\r\n      \r\n      setMetrics(newMetrics);\r\n      \r\n    } catch (err) {\r\n      setError('Simulation step failed');\r\n      console.error('SUMO step error:', err);\r\n    }\r\n  }, [isConnected, isRunning]);\r\n\r\n  // Control traffic light\r\n  const setTrafficLightState = useCallback(async (lightId: string, state: string) => {\r\n    if (!isConnected) return;\r\n    \r\n    try {\r\n      setTrafficLights(prev => \r\n        prev.map(light => \r\n          light.id === lightId ? { ...light, state } : light\r\n        )\r\n      );\r\n      \r\n      console.log(`Set traffic light ${lightId} to ${state}`);\r\n    } catch (err) {\r\n      setError('Failed to control traffic light');\r\n      console.error('Traffic light control error:', err);\r\n    }\r\n  }, [isConnected]);\r\n\r\n  // Get traffic light phases for AI optimization\r\n  const optimizeTrafficLights = useCallback(async (vehicleData: SumoVehicle[]) => {\r\n    if (!isConnected) return;\r\n    \r\n    try {\r\n      // Simple optimization logic based on vehicle density\r\n      const northSouthVehicles = vehicleData.filter(v => \r\n        v.lane.includes('north') || v.lane.includes('south')\r\n      ).length;\r\n      \r\n      const eastWestVehicles = vehicleData.filter(v => \r\n        v.lane.includes('east') || v.lane.includes('west')\r\n      ).length;\r\n      \r\n      // Switch lights based on traffic density\r\n      if (northSouthVehicles > eastWestVehicles + 3) {\r\n        await setTrafficLightState('tl_north', 'g');\r\n        await setTrafficLightState('tl_south', 'g');\r\n        await setTrafficLightState('tl_east', 'r');\r\n        await setTrafficLightState('tl_west', 'r');\r\n      } else if (eastWestVehicles > northSouthVehicles + 3) {\r\n        await setTrafficLightState('tl_north', 'r');\r\n        await setTrafficLightState('tl_south', 'r');\r\n        await setTrafficLightState('tl_east', 'g');\r\n        await setTrafficLightState('tl_west', 'g');\r\n      }\r\n      \r\n      console.log('Traffic lights optimized based on vehicle density');\r\n    } catch (err) {\r\n      setError('Traffic light optimization failed');\r\n      console.error('Optimization error:', err);\r\n    }\r\n  }, [isConnected, setTrafficLightState]);\r\n\r\n  // Load simulation configuration\r\n  const loadConfig = useCallback(async (configPath: string) => {\r\n    try {\r\n      setError(null);\r\n      console.log(`Loading SUMO config: ${configPath}`);\r\n      \r\n      // Simulate config loading\r\n      await new Promise(resolve => setTimeout(resolve, 1000));\r\n      \r\n      console.log('SUMO configuration loaded successfully');\r\n    } catch (err) {\r\n      setError('Failed to load configuration');\r\n      console.error('Config loading error:', err);\r\n    }\r\n  }, []);\r\n\r\n  // Export simulation data\r\n  const exportData = useCallback(() => {\r\n    const data = {\r\n      timestamp: new Date().toISOString(),\r\n      step: currentStep,\r\n      vehicles: vehicles.length,\r\n      metrics,\r\n      trafficLights: trafficLights.map(tl => ({ id: tl.id, state: tl.state }))\r\n    };\r\n    \r\n    const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = `sumo_data_step_${currentStep}.json`;\r\n    a.click();\r\n    URL.revokeObjectURL(url);\r\n  }, [currentStep, vehicles, metrics, trafficLights]);\r\n\r\n  // Auto-run simulation steps\r\n  useEffect(() => {\r\n    if (!isRunning) return;\r\n    \r\n    const interval = setInterval(() => {\r\n      simulationStep();\r\n    }, stepLength * 1000);\r\n    \r\n    return () => clearInterval(interval);\r\n  }, [isRunning, simulationStep, stepLength]);\r\n\r\n  // Auto-connect on mount\r\n  useEffect(() => {\r\n    connect();\r\n    return () => {\r\n      if (isConnected) {\r\n        disconnect();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return {\r\n    // State\r\n    isConnected,\r\n    isRunning,\r\n    currentStep,\r\n    vehicles,\r\n    trafficLights,\r\n    metrics,\r\n    error,\r\n    \r\n    // Actions\r\n    connect,\r\n    disconnect,\r\n    startSimulation,\r\n    stopSimulation,\r\n    simulationStep,\r\n    setTrafficLightState,\r\n    optimizeTrafficLights,\r\n    loadConfig,\r\n    exportData,\r\n    \r\n    // Utilities\r\n    clearError: () => setError(null),\r\n    resetSimulation: () => {\r\n      setCurrentStep(0);\r\n      setVehicles([]);\r\n      setMetrics({\r\n        totalVehicles: 0,\r\n        averageSpeed: 0,\r\n        averageWaitTime: 0,\r\n        throughput: 0,\r\n        queueLength: 0,\r\n        co2Emissions: 0\r\n      });\r\n    }\r\n  };\r\n}\r\n\r\nexport type { SumoVehicle, SumoTrafficLight, SumoMetrics, SumoConfig };\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1042, "column": 0}, "map": {"version":3,"sources":["file:///D:/CODING/Webd/MiniProject/Smart-Traffic-management/src/components/sumo-canvas.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useRef, useEffect } from \"react\";\r\nimport type { SumoVehicle } from \"@/hooks/use-sumo\";\r\n\r\ninterface Props {\r\n  vehicles?: SumoVehicle[];\r\n}\r\n\r\nexport const SumoCanvas: React.FC<Props> = ({ vehicles = [] }) => {\r\n  const canvasRef = useRef<HTMLCanvasElement | null>(null);\r\n  const rafRef = useRef<number | null>(null);\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) return;\r\n    const ctx = canvas.getContext(\"2d\");\r\n    if (!ctx) return;\r\n\r\n    let mounted = true;\r\n\r\n    function draw() {\r\n      if (!mounted) return;\r\n      const dpr = window.devicePixelRatio || 1;\r\n      const { width, height } = canvas.getBoundingClientRect();\r\n      canvas.width = Math.floor(width * dpr);\r\n      canvas.height = Math.floor(height * dpr);\r\n      ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\r\n\r\n      // Background\r\n      ctx.fillStyle = \"#1f1724\";\r\n      ctx.fillRect(0, 0, width, height);\r\n\r\n      // Draw roads (simple cross)\r\n      const roadW = Math.min(width, height) * 0.18;\r\n      ctx.fillStyle = \"#2b2430\";\r\n      // horizontal\r\n      ctx.fillRect(0, (height - roadW) / 2, width, roadW);\r\n      // vertical\r\n      ctx.fillRect((width - roadW) / 2, 0, roadW, height);\r\n\r\n      // center intersection accent\r\n      ctx.fillStyle = \"#2f2733\";\r\n      ctx.fillRect((width - roadW) / 2, (height - roadW) / 2, roadW, roadW);\r\n\r\n      // draw vehicles with subtle pulsing to indicate motion\r\n      const t = Date.now() / 1000;\r\n      vehicles.forEach((v, i) => {\r\n        // positions originally in 800x600 range (per hook), scale to canvas\r\n        const x = (v.position.x / 800) * width;\r\n        const y = (v.position.y / 600) * height;\r\n\r\n        // choose color\r\n        let color = \"#3b82f6\"; // car - blue\r\n        if (v.type === \"truck\") color = \"#f97316\"; // orange\r\n        if (v.type === \"bus\") color = \"#10b981\"; // green\r\n\r\n        // pulsing radius\r\n        const pulse = 1.5 * Math.sin(t * 2 + i) + 1.5; // between 0 and ~3\r\n        const r = Math.max(4, 6 + pulse);\r\n\r\n        ctx.beginPath();\r\n        ctx.fillStyle = color;\r\n        ctx.shadowColor = \"rgba(0,0,0,0.45)\";\r\n        ctx.shadowBlur = 6;\r\n        ctx.arc(x, y, r, 0, Math.PI * 2);\r\n        ctx.fill();\r\n        ctx.shadowBlur = 0;\r\n      });\r\n\r\n      rafRef.current = requestAnimationFrame(draw);\r\n    }\r\n\r\n    draw();\r\n\r\n    return () => {\r\n      mounted = false;\r\n      if (rafRef.current) cancelAnimationFrame(rafRef.current);\r\n    };\r\n  }, [vehicles]);\r\n\r\n  return (\r\n    <canvas ref={canvasRef} style={{ width: \"100%\", height: \"100%\", display: \"block\", borderRadius: 8 }} />\r\n  );\r\n};\r\n\r\nexport default SumoCanvas;\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AASO,MAAM,aAA8B,CAAC,EAAE,WAAW,EAAE,EAAE;IAC3D,MAAM,YAAY,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAA4B;IACnD,MAAM,SAAS,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAiB;IAErC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,SAAS,UAAU,OAAO;QAChC,IAAI,CAAC,QAAQ;QACb,MAAM,MAAM,OAAO,UAAU,CAAC;QAC9B,IAAI,CAAC,KAAK;QAEV,IAAI,UAAU;QAEd,SAAS;YACP,IAAI,CAAC,SAAS;YACd,MAAM,MAAM,OAAO,gBAAgB,IAAI;YACvC,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,OAAO,qBAAqB;YACtD,OAAO,KAAK,GAAG,KAAK,KAAK,CAAC,QAAQ;YAClC,OAAO,MAAM,GAAG,KAAK,KAAK,CAAC,SAAS;YACpC,IAAI,YAAY,CAAC,KAAK,GAAG,GAAG,KAAK,GAAG;YAEpC,aAAa;YACb,IAAI,SAAS,GAAG;YAChB,IAAI,QAAQ,CAAC,GAAG,GAAG,OAAO;YAE1B,4BAA4B;YAC5B,MAAM,QAAQ,KAAK,GAAG,CAAC,OAAO,UAAU;YACxC,IAAI,SAAS,GAAG;YAChB,aAAa;YACb,IAAI,QAAQ,CAAC,GAAG,CAAC,SAAS,KAAK,IAAI,GAAG,OAAO;YAC7C,WAAW;YACX,IAAI,QAAQ,CAAC,CAAC,QAAQ,KAAK,IAAI,GAAG,GAAG,OAAO;YAE5C,6BAA6B;YAC7B,IAAI,SAAS,GAAG;YAChB,IAAI,QAAQ,CAAC,CAAC,QAAQ,KAAK,IAAI,GAAG,CAAC,SAAS,KAAK,IAAI,GAAG,OAAO;YAE/D,uDAAuD;YACvD,MAAM,IAAI,KAAK,GAAG,KAAK;YACvB,SAAS,OAAO,CAAC,CAAC,GAAG;gBACnB,oEAAoE;gBACpE,MAAM,IAAI,AAAC,EAAE,QAAQ,CAAC,CAAC,GAAG,MAAO;gBACjC,MAAM,IAAI,AAAC,EAAE,QAAQ,CAAC,CAAC,GAAG,MAAO;gBAEjC,eAAe;gBACf,IAAI,QAAQ,WAAW,aAAa;gBACpC,IAAI,EAAE,IAAI,KAAK,SAAS,QAAQ,WAAW,SAAS;gBACpD,IAAI,EAAE,IAAI,KAAK,OAAO,QAAQ,WAAW,QAAQ;gBAEjD,iBAAiB;gBACjB,MAAM,QAAQ,MAAM,KAAK,GAAG,CAAC,IAAI,IAAI,KAAK,KAAK,mBAAmB;gBAClE,MAAM,IAAI,KAAK,GAAG,CAAC,GAAG,IAAI;gBAE1B,IAAI,SAAS;gBACb,IAAI,SAAS,GAAG;gBAChB,IAAI,WAAW,GAAG;gBAClB,IAAI,UAAU,GAAG;gBACjB,IAAI,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,KAAK,EAAE,GAAG;gBAC9B,IAAI,IAAI;gBACR,IAAI,UAAU,GAAG;YACnB;YAEA,OAAO,OAAO,GAAG,sBAAsB;QACzC;QAEA;QAEA,OAAO;YACL,UAAU;YACV,IAAI,OAAO,OAAO,EAAE,qBAAqB,OAAO,OAAO;QACzD;IACF,GAAG;QAAC;KAAS;IAEb,qBACE,8OAAC;QAAO,KAAK;QAAW,OAAO;YAAE,OAAO;YAAQ,QAAQ;YAAQ,SAAS;YAAS,cAAc;QAAE;;;;;;AAEtG;uCAEe","debugId":null}},
    {"offset": {"line": 1132, "column": 0}, "map": {"version":3,"sources":["file:///D:/CODING/Webd/MiniProject/Smart-Traffic-management/src/app/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useRef, useEffect } from \"react\";\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\nimport { Switch } from \"@/components/ui/switch\";\r\nimport { Progress } from \"@/components/ui/progress\";\r\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\r\nimport { TrafficMap } from \"@/components/ui/traffic-map\";\r\nimport { Footer } from \"@/components/footer\";\r\nimport { useYolo } from \"@/hooks/use-yolo\";\r\nimport { useSumo } from \"@/hooks/use-sumo\";\r\nimport SumoCanvas from \"@/components/sumo-canvas\";\r\n\r\nexport default function TrafficManagementSystem() {\r\n  const [aiMode, setAiMode] = useState(false);\r\n  const [trafficLights, setTrafficLights] = useState({\r\n    north: \"red\",\r\n    south: \"red\",\r\n    east: \"green\",\r\n    west: \"green\"\r\n  });\r\n  const [simulationRunning, setSimulationRunning] = useState(false);\r\n  const [detectionRunning, setDetectionRunning] = useState(false);\r\n  const [stream, setStream] = useState<MediaStream | null>(null);\r\n  const videoRef = useRef<HTMLVideoElement>(null);\r\n\r\n  // YOLO hook\r\n  const {\r\n    isLoading,\r\n    detectedObjects,\r\n    error,\r\n    isModelLoaded,\r\n    startContinuousDetection,\r\n    clearDetections\r\n  } = useYolo();\r\n\r\n  // SUMO hook\r\n  const {\r\n    isConnected,\r\n    isRunning,\r\n    currentStep,\r\n    vehicles,\r\n    trafficLights: sumoTrafficLights,\r\n    metrics,\r\n    startSimulation,\r\n    stopSimulation,\r\n    resetSimulation,\r\n    error: sumoError\r\n  } = useSumo();\r\n\r\n  // Handle video stream lifecycle\r\n  useEffect(() => {\r\n    return () => {\r\n      if (stream) {\r\n        stream.getTracks().forEach(track => track.stop());\r\n      }\r\n    };\r\n  }, [stream]);\r\n\r\n  const toggleTrafficLight = (direction: string) => {\r\n    if (!aiMode) {\r\n      setTrafficLights(prev => ({\r\n        ...prev,\r\n        [direction]: prev[direction as keyof typeof prev] === \"red\" ? \"green\" : \"red\"\r\n      }));\r\n    }\r\n  };\r\n\r\n  const getTrafficLightColor = (state: string) => {\r\n    switch (state) {\r\n      case \"red\": return \"bg-red-500\";\r\n      case \"yellow\": return \"bg-yellow-500\";\r\n      case \"green\": return \"bg-green-500\";\r\n      default: return \"bg-gray-300\";\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen\">\r\n      <div className=\"header-bar\">\r\n        <div className=\"container mx-auto px-6 py-6 flex items-center justify-between\">\r\n          <h1 className=\"header-title\">Smart Traffic Management System</h1>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"container mx-auto px-6 py-8\">\r\n        <div className=\"section-panel\">\r\n          <div className=\"panel-header\">\r\n            <div>\r\n              <div className=\"panel-title\">Traffic Dashboard</div>\r\n              <div className=\"text-sm text-gray-500\">Overview of live traffic and simulation</div>\r\n            </div>\r\n            <div>\r\n              <button className=\"modern-button\">Explore Features</button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6\">\r\n            <div className=\"metric-card\">\r\n              <div className=\"card-icon\" aria-hidden>\r\n                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path d=\"M3 13l1.5-4.5A2 2 0 017.5 6h9a2 2 0 011.9 1.5L20 13\" stroke=\"currentColor\" strokeWidth=\"1.4\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                  <circle cx=\"7.5\" cy=\"17.5\" r=\"1.5\" fill=\"currentColor\"/>\r\n                  <circle cx=\"16.5\" cy=\"17.5\" r=\"1.5\" fill=\"currentColor\"/>\r\n                </svg>\r\n              </div>\r\n              <div>\r\n                <div className=\"card-title\">Total Vehicles Detected</div>\r\n                <div className=\"card-value\">{metrics?.totalVehicles || 1234}</div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"metric-card\">\r\n              <div className=\"card-icon\" aria-hidden>\r\n                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path d=\"M4 6h13v13l-3-2-3 2-3-2-3 2V6z\" stroke=\"currentColor\" strokeWidth=\"1.2\" fill=\"none\" />\r\n                </svg>\r\n              </div>\r\n              <div>\r\n                <div className=\"card-title\">Average Speed</div>\r\n                <div className=\"card-value text-green-600\">{Math.round(metrics?.averageSpeed || 45)} km/h</div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"metric-card\">\r\n              <div className=\"card-icon\" aria-hidden>\r\n                <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path d=\"M12 2 L2 22h20L12 2z\" stroke=\"currentColor\" strokeWidth=\"1.4\" fill=\"none\" />\r\n                  <path d=\"M12 8v5\" stroke=\"currentColor\" strokeWidth=\"1.6\" strokeLinecap=\"round\" />\r\n                  <circle cx=\"12\" cy=\"17\" r=\"1\" fill=\"currentColor\" />\r\n                </svg>\r\n              </div>\r\n              <div>\r\n                <div className=\"card-title\">Violations Today</div>\r\n                <div className=\"card-value text-red-600\">{(isLoading ? 0 : detectedObjects.length) || 12}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n            <div>\r\n              <div className=\"mb-3 font-semibold\">Real-Time Traffic Map</div>\r\n              <div className=\"map-container\">\r\n                <TrafficMap\r\n                  trafficLights={{ north: 'red', south: 'red', east: 'green', west: 'green' }}\r\n                  onTrafficLightChange={() => {}}\r\n                  aiMode={false}\r\n                  vehicles={vehicles}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <div className=\"mb-3 font-semibold\">SUMO Visualization</div>\r\n                <div className=\"sumo-placeholder\" style={{height:320}}>\r\n                  <div style={{width:'100%', height:'100%'}}>\r\n                    <div style={{display:'flex', justifyContent:'space-between', alignItems:'center', padding:'8px 12px'}}>\r\n                      <div style={{color:'#cbd5e1', fontSize:13}}>Step: <strong style={{color:'white'}}>{currentStep}</strong></div>\r\n                      <div style={{color:'#94a3b8', fontSize:13}}>Updated: <strong style={{color:'white'}}>{new Date().toLocaleTimeString()}</strong></div>\r\n                    </div>\r\n                    <SumoCanvas vehicles={vehicles} />\r\n                  </div>\r\n                </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}